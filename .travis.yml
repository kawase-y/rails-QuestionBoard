language: ruby
rvm:
- 2.3.1
services:
- postgresql
bundler_args: "--without development --deployment"
cache: bundler
before_script:
- bundle exec rake db:create RAILS_ENV=test
- bundle exec rake db:migrate RAILS_ENV=test
script:
- bundle exec rake test
deploy:
  provider: heroku
  api_key:
    secure: W3C9a7tFH5gZeFDy4tG9lqRmfa8Tzh0LcBgJYCYClVWH3hDsFt/5j6sg0SK14w69+Be4QbU7P46whr6Q7NzAVoLLkgVhsRf3BF1BpybYDqEDtvbOo1Za8a/rdpdu3JF9FgwgT/LXo/xL7Bi9zL0/hq3e2cNIvMMdT90Kl/VZMk+xt2tnfrQzNNlw8tWpxE97jHHvDYJI7SFP0lPhxmdmWE+qXrWiPeBmmmYmAXypmzO2A1NBiyTkO9BMXjePW1UzWvUIUOHlqC5/BHOU6ynHhszhALD6R3G+YX7v/FfdPl4nJY/BycZ9tAYMl99BUHhqKjOm6UMRGSVSHeNETxixkmSHJc4jJxDrnE9q15VMf1xKeOCPh7LG+NzgJ5YtghQKpZhSMMKIj28zK9Vm39NtRvshMTuoQOIOmk4x7LdHuwls1FDHopRug7R+wNwwkTzMpZrnKRhjedcBuu+7u9W26FTOw6laa9st1aBjEThIB1ZbhjF7HamJqGbYpibAoYgjXJefrWIgns7QHliEt0fmbCsIn9ir0eBstnbttSItXcck/cWPUnvmUsex2h9Ohj9/LQfytzkv5qoOdNIxYBLDXei2aum+w64ki/oTP2yWUxDSVz4gRjsshdkEuMXxh3kwCxCUw7xjUWtfnpbbALrmZscee9Vm17YWmIhc4id4zs0=
  app: travis-questionboard
  on:
    repo: kawase-y/rails-QuestionBoard
